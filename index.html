<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Create reproducible image stimuli, specialised for images with webmorph.org templates.">
<title>Reproducible Stimuli â€¢ webmorphR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="deps/_Nunito-0.4.1/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Reproducible Stimuli">
<meta property="og:description" content="Create reproducible image stimuli, specialised for images with webmorph.org templates.">
<meta property="og:image" content="https://debruine.github.io/webmorphR/reference/figures/logo.png">
<meta property="og:image:alt" content="webmorphR logo: a blue hexagon with a simplified white wireframe face">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@lisadebruine">
<meta name="twitter:site" content="@webmorph_org">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">webmorphR</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/webmorphR.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/stimuli.html">Making Stimuli</a>
    <a class="dropdown-item" href="articles/manip.html">Image Manipulations</a>
    <a class="dropdown-item" href="articles/masking.html">Templates and Masking</a>
    <a class="dropdown-item" href="articles/figures.html">Making Figures</a>
    <a class="dropdown-item" href="articles/similarity.html">Image Similarity</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/webmorph_org" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://figshare.com/search?q=webmorph%20psychomorph" aria-label="Figshare">
    <span class="ai ai-figshare"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://osf.io/search/?q=webmorph,psychomorph" aria-label="OSF">
    <span class="ai ai-osf"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/debruine/webmorphR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="webmorphr-">webmorphR <a class="anchor" aria-label="anchor" href="#webmorphr-"></a>
</h1>
</div>
<!-- badges: start -->

<p>The goal of webmorphR is to make the construction of image stimuli more reproducible, with a focus on face stimuli. While face stimuli used in research can often not be shared for ethical reasons, webmorphR allows you to share recipes for creating stimuli with code, increasing reproducibility and encouraging generalisability to new faces.</p>
<p>This development of this package was funded by ERC grant #647910 (KINSHIP).</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can (hopefully soon) install webmorphR from CRAN with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">install_packages</span><span class="op">(</span><span class="st">"webmorphR"</span><span class="op">)</span></code></pre></div>
<p>You can install the development version from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"debruine/webmorphR"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="use">Use<a class="anchor" aria-label="anchor" href="#use"></a>
</h2>
<p>The code below produces the following figure reproducibly, and can be applied to any set of original images.</p>
<p><img src="reference/figures/example.jpg"></p>
<p>Load images with <a href="https://debruine.github.io/webmorph/getting-started.html#delineate" class="external-link">psychomorph/webmorph templates</a> or automatically delineate them. Use functions like <code><a href="reference/resize.html">resize()</a></code>, <code><a href="reference/align.html">align()</a></code> and <code><a href="reference/crop.html">crop()</a></code> to process the images reproducibly. Use webmorph functions to create composite or transformed faces. Use the plotting and labelling functions to create figures.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://debruine.github.io/webmorphR/">webmorphR</a></span><span class="op">)</span>

<span class="co"># load 6 images from the smiling demo set</span>
<span class="va">original</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/demo_stim.html">demo_stim</a></span><span class="op">(</span>dir <span class="op">=</span> <span class="st">"smiling"</span>,
                      pattern <span class="op">=</span> <span class="st">"002|013|030|064|094|099"</span><span class="op">)</span> 

<span class="co"># resize and delineate the images (using Face++)</span>
<span class="co"># procrustes align and crop them to 80% size</span>
<span class="va">processed</span> <span class="op">&lt;-</span> <span class="va">original</span> |&gt;
  <span class="fu"><a href="reference/resize.html">resize</a></span><span class="op">(</span><span class="fl">0.5</span><span class="op">)</span> |&gt;
  <span class="fu"><a href="reference/auto_delin.html">auto_delin</a></span><span class="op">(</span><span class="va">smiling</span>, model <span class="op">=</span> <span class="st">"fpp106"</span><span class="op">)</span> |&gt;
  <span class="fu"><a href="reference/align.html">align</a></span><span class="op">(</span>procrustes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> |&gt;
  <span class="fu"><a href="reference/crop.html">crop</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.8</span>, height <span class="op">=</span> <span class="fl">0.8</span>, y_off <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>

<span class="co"># rename and save individual images</span>
<span class="va">processed</span> |&gt;
  <span class="fu"><a href="reference/rename_stim.html">rename_stim</a></span><span class="op">(</span>prefix <span class="op">=</span> <span class="st">"aligned_"</span><span class="op">)</span> |&gt;
  <span class="fu"><a href="reference/write_stim.html">write_stim</a></span><span class="op">(</span>dir <span class="op">=</span> <span class="st">"stimuli/smiling"</span><span class="op">)</span>

<span class="co"># average faces (using webmorph.org)</span>
<span class="va">avg</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/avg.html">avg</a></span><span class="op">(</span><span class="va">processed</span><span class="op">)</span>

<span class="co"># combine individual faces in a grid the same height as the average face</span>
<span class="va">grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">processed</span>, 
             ncol <span class="op">=</span> <span class="fl">2</span>, 
             external_pad <span class="op">=</span> <span class="cn">FALSE</span>,
             maxheight <span class="op">=</span> <span class="fu"><a href="reference/height.html">height</a></span><span class="op">(</span><span class="va">avg</span><span class="op">)</span><span class="op">)</span>

<span class="co"># draw template on the average face and add a label</span>
<span class="va">tem_viz</span> <span class="op">&lt;-</span> <span class="va">avg</span> |&gt;
  <span class="fu"><a href="reference/draw_tem.html">draw_tem</a></span><span class="op">(</span><span class="op">)</span> |&gt;
  <span class="fu"><a href="reference/label.html">label</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Composite with Template"</span>,
        size <span class="op">=</span> <span class="fl">30</span>, location <span class="op">=</span> <span class="st">"+0+10"</span><span class="op">)</span>

<span class="co"># combine the grid and tem_viz images and plot</span>
<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">grid</span>, <span class="va">tem_viz</span><span class="op">)</span> |&gt; 
  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>nrow <span class="op">=</span> <span class="fl">1</span>, maxwidth <span class="op">=</span> <span class="fl">1500</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="helper-packages">Helper packages<a class="anchor" aria-label="anchor" href="#helper-packages"></a>
</h2>
<p>There are also two helper packages that contain large demo stimulus files or functions that require python and dlib.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"debruine/webmorphR.stim"</span><span class="op">)</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"debruine/webmorphR.dlib"</span><span class="op">)</span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/debruine/webmorphR/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/debruine/webmorphR/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://creativecommons.org/licenses/by/4.0" class="external-link">CC BY 4.0</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing webmorphR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://debruine.github.io/" class="external-link">Lisa DeBruine</a> <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-7523-5539" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://zenodo.org/badge/latestdoi/357819230" class="external-link"><img src="https://zenodo.org/badge/357819230.svg" alt="DOI"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://app.codecov.io/gh/debruine/webmorphR?branch=master" class="external-link"><img src="https://codecov.io/gh/debruine/webmorphR/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://github.com/debruine/webmorphR/actions" class="external-link"><img src="https://github.com/debruine/webmorphR/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://debruine.github.io/" class="external-link">Lisa DeBruine</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
